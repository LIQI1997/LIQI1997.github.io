# 计算机

## 开发建议

开发软件没必要优化那么多，软件最重要的是业务的价值和实现业务的最佳实践，即不出任何问题，高效稳定的运行。
而有些小优化的点，能不做就不做。

比如短信验证码，用户如果想换其他手机号，那就刷新页面，重新填即可。

短信验证码的倒计时没必要把用户的手机号码和倒计时关联起来存在本地。

如果用户不换手机号，刷新页面，后端那里拦截即可

## 移动端

开发移动端时，一定要注意不同设备的样式。

## 国际化

国际化分前端国际化和后端国际化，前端国际化，通过获取os默认语言，切换语言表，把页面上固定命名给替换掉即可。
后端国际化，返回的错误提示都要做。

## 数据延迟

请求数据时，如果300ms内数据就返回了，那如果还加载loading的话，就会有闪烁问题，所以很常见的做法是，setLoading 时加个 300ms 的延迟，如果300ms内拿到了响应，就把延迟定时器取消即可。

但我觉得这样会有一点卡顿感，虽然微不足道，但还是能感觉出来。

所以我觉得如果是整个页面，或者一张卡片的内容，如果是 loading 动画，那300ms 内就没有必要显示了，如果是按钮，那 loading 立刻显示，还是有必要的。

300ms 也是可以调整的，但约定俗成的做法都是 300ms

```html
<button id="btn">get data</button>
  <script>
      document.getElementById('btn').addEventListener('click', function () {
        // 这样就会有闪烁，用户体验就差
        // this.innerText = 'loading...'
        // setTimeout(() => {
        //   this.innerText = 'result'
        // }, 200);

        // 这样效果就好点
        const id = setTimeout(() => {
          this.innerText = 'loading...'
        }, 300);
        setTimeout(() => {
          this.innerText = 'result'
          clearTimeout(id)
        }, 200);
      })
  </script>
```

## 多租户系统

当一个业务系统是给一个公司开发的时候，所有的表都是这个企业下的，比如员工表。

可是现在需求变动，这个系统要支持其他的公司，实现思路有一种：注册企业的时候，给这个企业建立一个数据库，并且把所有的数据表给建立起来，后续这个企业下所有的操作，都是在这个新的数据库下进行的。