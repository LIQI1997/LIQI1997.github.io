# 计算机网络

## 数据透传

数据透传指的是数据从一个设备传输到另一个设备，中间不经过解析，处理，压缩，加密，校验等。数据不透传，就是相反。





ping 用来测试网络可达性，tracert 用来显示到达目的主机的路径，都是通过 ICMP 协议工作的。

Internet control message protocol
Internet 控制报文协议

不论是 nodejs 还是 java，官方提供的 dns 检测库，都是用操作系统自身的 dns 程序来处理的，如果操作系统本地有 dns 缓存，比如在 /etc/hosts 里面有记录，那就直接返回了。

如果没有，操作系统再向上层的网络网关那里去

网络是由计算机组成的

网关就是一个网络节点，作为不同网络之间传输数据的一个接入点。

当子网内的设备需要请求其他网络中的设备上的数据时，数据包会先被发送到网关。

所以能ping得通本地网络网关。


## bt


BT
Bit Torrent

.torrent 种子文件，包含要下载文件每一个块的哈希值，并提供 tracker 服务器地址。

用户通过BT客户端打开种子文件，解析出 tracker 服务器地址，连接 tracker，tracker 返回其他下载者的 IP，下载者和其他下载者之间相互链接，交换文件分片。

其实互联网没什么用，最重要的作用就是连接人与人，使得人跟人之间的交流变得方便，随时随地，可以看到听到对方。
而那些提供娱乐内容的巨头公司，只是养着一批底层人民，提供精神鸦片而已。

eDonkey Network
eDonkey2000 Network
eD2k 网络，或电驴网络，是一种分布式，基于服务器的P2P文件分享网络。

eMule 是支持 eD2k 协议的客户端软件。

我学习这些网络思想是有价值的，但使用这些平台去娱乐就不行了，娱乐不是我要做的事。

magnet 磁铁，磁体，磁石，磁性物体，吸铁石，有吸引力的人

bit torrent 协议最大的问题是，使用 .torrent 种子文件记录文件信息和 tracker 服务器地址，后续通过支持 bt 协议的客户端软件解析出种子文件中的文件信息。
客户端电脑通过连接 tracker 去获取其他下载者的 IP，从而建立 P2P 网络。
这也就意味着如果种子文件中的 tracker 被当地网络封了，那就意味着这个种子文件对这个区域的下载者就无效了。
而且给别人分享种子文件也不方便，虽然是纯文本文件，还得下载发送，远不如磁力链接那样，一个字符串 copy paste 简单。

磁力链接中没有 tracker信息，磁力链接中只有文件信息，磁链客户端打开磁链后，通过在分布式的哈希表中，找到这个文件的？





点对点的通信软件
peer 2 peer
就跟种子和磁链一样，需要一个 tracker 服务器去帮你寻找资源，资源的下载和上传，都是通过点对点的，没有中央服务器。

所以我部署一台 tracker 服务器，找到通信双方的 IP+port，就可以让对方直接通信，没必要用 web rtc

用户切换网络，就要通知到自己的 tracker，让通信双方重新连接。

点对点聊天如何实现？p2p，需要 NAT 打洞，所以需要一个中间服务器，用来交换用户之间的网络信息，交换用户彼此的密钥。
举个例子，用户下载app，在此设备上创建新账号，或者扫码使用旧设备上的账号（公钥和私钥），用户发送消息，用私钥加密，找人聊天，就是找人交换公钥，然后再通过中间服务器分别获取到的用户 IP，通过 ip 双方进行通信。

其实这个中间服务器就很没有价值，因为如果存在，那就说明不是纯粹的 p2p。
比特币就是没有中间服务器的，每一个比特币钱包，都有一个区块链，也就是完整的分布式数据库，每个人想要给别人转钱，本质上都是在区块链上创建 block，然后所有的钱包都同步这个区块链。只要全网的设备都承认，那就说明交易是有效的。



## 高防 IP
